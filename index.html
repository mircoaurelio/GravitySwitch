<!DOCTYPE html>
<html>
  <head>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.min.js"></script>
    <style>
      body {
        margin: 0;
        background: black;
      }
    </style>
  </head>
  <body>
    let players=[],enemies=[],stars=[],circles=[],velocity=3,bonuses=[],gameOverTime=0,confettis=[],count=0,countx=0,sound,flag=!0,county=0,scores={"\uD83D\uDEF8":0,"\uD83D\uDE80":0,"\uD83D\uDEF0Ô∏è":0,"\uD83D\uDE93":0,"\uD83D\uDEB2":0},gameOver=!1,t=800;function setup(){width,createCanvas(windowWidth-1,windowHeight-5),players.push(new UFO("\uD83D\uDEF8")),players.push(new UFO("\uD83D\uDE80")),players.push(new UFO("\uD83D\uDEF0Ô∏è")),players.push(new UFO("\uD83D\uDE93")),players.push(new UFO("\uD83D\uDEB2"));for(let s=0;s<20;s++)enemies.push(new Enemy),stars.push(new Star);for(let e=0;e<100;e++)confettis.push(new Confetti);for(let i=0;i<160;i++)circles.push(new Circle)}function draw(){for(let s of(count++,background(0),circles))s.update(),s.show();for(let e of players)e.update(),e.show();for(let i of enemies)i.update(),i.show();for(let h of stars)h.update(),h.show();for(let o of bonuses)o.update(),o.show();for(let n of confettis)n.update(),n.show();for(let y of(fill(255),textSize(20),textAlign(CENTER),text("  < br > < br > "),players))text("              "+y.emoji+": "+scores[y.emoji],10,20*(players.indexOf(y)+1));t--,t--,text("PRESS S G J L spacebar key to switch the gravity",t--,height/2),gameOver&&(textAlign(CENTER),fill(255),textSize(20),text("Game Over",width/2,height/2),++gameOverTime>100&&(textSize(13),text("press anywhere to play again",width/2,height/2+30)))}function touchStarted(){for(let s of players)s.gravity*=-1,gameOver&&location.reload()}function keyPressed(){for(let s of players)keyCode===s.keyCode&&(s.gravity*=-1)}class Circle{constructor(){this.x=random(width),this.y=random(height)}update(){this.x=this.x-1,this.x<0&&(this.x=width,this.y=random(height),this.speed=0),this.y=this.y,this.speed=0}show(){ellipse(this.x,this.y,2,2)}}class UFO{constructor(s){this.emoji=s,this.y=height/2,this.size=60,this.velocity=0,this.gravity=.11,this.magnet=20,this.eliminated=!1,"\uD83D\uDEF8"===s&&(this.keyCode=83,this.x=60),"\uD83D\uDE80"===s&&(this.keyCode=71,this.x=100),"\uD83D\uDEF0Ô∏è"===s&&(this.keyCode=74,this.x=140),"\uD83D\uDE93"===s&&(this.keyCode=76,this.x=180),"\uD83D\uDEB2"===s&&(this.keyCode=32,this.x=220)}update(){if(!this.eliminated){for(let s of(this.velocity+=this.gravity,this.y+=this.velocity,this.y>height-this.size/2&&(this.y=height-this.size/2,this.velocity=0),this.y<this.size/2&&(this.y=this.size/2,this.velocity=0),enemies))if(this.x>s.x-s.size/2&&this.x<s.x+s.size/2&&this.y>s.y-s.size/2&&this.y<s.y+s.size/2){this.eliminated=!0,scores[this.emoji]=scores[this.emoji]+"\uD83D\uDC80";for(let e=0;e<50;e++)confettis.push(new Confetti(this.x,this.y));0===players.filter(s=>!s.eliminated).length&&(gameOver=!0)}for(let i of stars)if(this.x+this.magnet>i.x-i.size/2&&this.x-this.magnet<i.x+i.size/2&&this.y+this.magnet>i.y-i.size/2&&this.y-this.magnet<i.y+i.size/2){i.x=-100,i.y=-100,3>random(6)&&bonuses.push(new Bonus);for(let h=0;h<10;h++)confettis.push(new Confetti(this.x,this.y));scores[this.emoji]++}for(let o of bonuses)if(this.x+this.magnet>o.x-o.size/2&&this.x-this.magnet<o.x+o.size/2&&this.y+this.magnet>o.y-o.size/2&&this.y-this.magnet<o.y+o.size/2){"\uD83E\uDDF2"==o.emoji&&(this.magnet+=20),"‚ö°"==o.emoji&&(velocity+=2),o.x=-100,o.y=-100;for(let n=0;n<30;n++)confettis.push(new Confetti(this.x,this.y))}}}show(){this.eliminated||(push(),this.gravity<0?(translate(this.x,this.y),rotate(-600),text(this.emoji,0,0)):text(this.emoji,this.x,this.y),pop())}}class Bonus{constructor(){let s=["\uD83E\uDDF2","‚ö°"];this.x=random(width)+width,this.y=random(height),this.size=20,this.speed=velocity,this.emoji=random(s)}update(){this.x-=this.speed,this.speed=velocity}show(){let s=this.emoji;fill(255),text(s,this.x,this.y)}}class Enemy{constructor(){let s=["\uD83C\uDF0E","\uD83D\uDEF0Ô∏è","\uD83D\uDEF0Ô∏è","\uD83E\uDE90","\uD83E\uDE90","\uD83C\uDF15","\uD83C\uDF11","\uD83C\uDF11","\uD83C\uDF0D","\uD83C\uDF0F"];this.x=random(width)+width,this.y=random(height),this.size=random(20,70),this.speed=velocity,this.emoji=random(s)}update(){this.x-=this.speed,this.x<0&&(this.x=width,this.y=random(height),this.speed=velocity),this.speed=velocity}show(){let s=this.emoji;fill(255),"\uD83D\uDEF0Ô∏è"===s?textSize(12):textSize(this.size),text(s,this.x,this.y)}}class Star{constructor(){0!=countx&&countx<6?(flag?(this.x=2*width+20*countx++,this.y=height/2+20*countx):(county=countx,this.x=2*width+20*countx++,this.y=height/2+20*county--),5==countx&&(countx=0),flag&&(flag=!1)):(this.x=random(width)+width,this.y=random(height)),this.size=14,this.speed=velocity,count++}update(){if(this.x-=this.speed,this.x<0&&(this.x=random(width)+width,this.y=random(height),this.speed=velocity,count>60&&stars.length<50)){for(let s=0;s<6;s++)stars.push(new Star);countx++,count=0}this.speed=velocity}show(){fill(255),textSize(this.size),text("\uD83D\uDD06",this.x,this.y)}}class Confetti{constructor(s,e){this.x=s,this.y=e,this.size=random(1,3),this.speed=random(-3,3),this.angle=random(360)}update(){this.x+=this.speed*cos(this.angle),this.y+=this.speed*sin(this.angle)}show(){fill(255),noStroke(),ellipse(this.x,this.y,this.size)}}
    </script>
  </body>
</html>
